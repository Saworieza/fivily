<!-- #view/items/index.html.erb is where people view the menu and select their items 

#it uses both items_controller and types_controller 

#when the user clicks "proceed to checkout", it actually goes to the orders controller
#and creates a new instance of the class order 
# once the user clicks submit, it goes to the controller 
#creates an order_id with customer name,
#takes that order_id and populates the order_items table 
#(uses instance varialbes to do so? - maybe)

# put order now buttons next to each item 
# or click into a show page for each item, change quantity, then place order 

 -->
<h2> Your Order </h2>

<h4> Items </h4> 
  <% @order.items.each do |item| %>
  <%= item.name %> <br>
  <% end %>
<p> 
<p> number of items: <%= @order.items.count %> </p>
<p> subtotal (<%= @order.subtotal %>) </p>

 <br />
 <br />
<%-# link_to "New order", new_order_path, class: 'btn btn-lg btn-success' %>
<br />
<br />
<br />

<% @items.group_by(&:type_id).each do |type, items| %>
  

  <% items.each do |item| %>
    <p><strong><%= item.name %></strong> (<%= price_conversion(item.price) %>)
      <br /> <%= item.description %>
      <%= item.is_custom == true ? '<br /><ins>You can customise this product</ins>'.html_safe : nil %></p>
      <%= link_to 'View Item', item_path(item), class: 'btn btn-success' %>
  <% end %>
<div>
 
</div>
<% end %> 